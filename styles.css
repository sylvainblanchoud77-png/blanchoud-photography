:root {
  --bg: #0c0c0c;
  --fg: #efefef;
  --muted: #9aa0a6;
  --primary: #e6e6e6;
  --accent: #d9ff00;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
  --radius: 16px;
  --max: 1200px;
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';
}

@media (prefers-color-scheme: light) {
  :root { --bg: #fbfbfb; --fg: #111; --muted: #6b7280; --primary: #111; }
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; background: var(--bg); color: var(--fg);
  font: 16px/1.6 var(--font);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

a { color: inherit; text-decoration: none; }
a.link { color: var(--fg); opacity: .9; }
a.link:hover { opacity: 1; text-decoration: underline; text-underline-offset: 3px; }
.muted { color: var(--muted); }

.site-header { position: sticky; top: 0; backdrop-filter: blur(8px);
  background: color-mix(in srgb, var(--bg) 70%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--fg) 6%, transparent); z-index: 10; }
.nav { max-width: var(--max); margin: 0 auto; display: flex; align-items: center; gap: 16px; padding: 14px 20px; }
.brand { font-weight: 700; letter-spacing: .3px; }
.spacer { flex: 1; }
.theme-toggle { background: transparent; border: 1px solid color-mix(in srgb, var(--fg) 16%, transparent);
  border-radius: 999px; padding: 6px 10px; color: var(--fg); cursor: pointer; }
.theme-toggle:hover { border-color: var(--fg); }

.home .hero { display: grid; place-items: center; min-height: 72vh; position: relative; overflow: clip; }
.hero-inner { text-align: center; z-index: 1; }
.headline { font-size: clamp(36px, 6vw, 80px); line-height: 1.05; margin: 0 0 12px; }
.tagline { font-size: clamp(16px, 2.2vw, 22px); opacity: .9; margin: 0 0 24px; }
.cta-row { display: inline-flex; gap: 12px; }
.btn { display: inline-block; padding: 10px 16px; border-radius: 999px; border: 1px solid var(--fg); }
.btn.primary { background: var(--fg); color: var(--bg); border-color: var(--fg); }
.btn.ghost { background: transparent; }
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow); }

.hero-marquee { position: absolute; inset: 0; pointer-events: none; opacity: .25; }
.marquee-row { display: flex; gap: 8px; animation: slide 40s linear infinite; will-change: transform; }
.marquee-row img { height: 22vh; width: auto; border-radius: 12px; object-fit: cover; filter: saturate(0.9) contrast(1.1); }
@keyframes slide { from { transform: translateX(0); } to { transform: translateX(-50%); } }

.about { max-width: var(--max); margin: 6rem auto; padding: 0 20px; }
.prose { max-width: 70ch; }
.prose h2 { margin-top: 0; letter-spacing: .2px; }

.gallery { max-width: var(--max); margin: 2rem auto; padding: 0 20px; }
.page-title { margin: 1rem 0 1rem; }
.filters { display: flex; gap: 10px; align-items: center; margin-bottom: 1rem; }
.input, .select { background: transparent; color: var(--fg); border: 1px solid color-mix(in srgb, var(--fg) 22%, transparent);
  padding: 10px 12px; border-radius: 12px; min-width: 200px; }
.masonry { column-width: 320px; column-gap: 16px; }
.card { break-inside: avoid; margin: 0 0 16px; position: relative; }
.card img { width: 100%; height: auto; display: block; border-radius: 12px; background: #111; }
.card .caption { font-size: 14px; color: var(--muted); margin-top: 6px; }

.loading-skeleton { background: linear-gradient(90deg, #222 0, #2a2a2a 40%, #222 80%);
  background-size: 200% 100%; animation: shimmer 1.8s infinite; border-radius: 12px; min-height: 200px; }
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

dialog#lightbox { border: none; padding: 0; background: rgba(0,0,0,.8); width: 100%; max-width: min(1200px, 96vw); }
dialog[open] { display: grid; place-items: center; }
#lightboxImg { width: 100%; height: auto; border-radius: 12px; }
.close { position: fixed; top: 16px; right: 16px; border: 0; background: #000; color: #fff; border-radius: 999px; width: 36px; height: 36px; cursor: pointer; }
.caption { color: var(--muted); text-align: center; margin: .5rem 0 1rem; }

.blog, .post { max-width: var(--max); margin: 2rem auto; padding: 0 20px; }
.post-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.post-card { padding: 16px; border: 1px solid color-mix(in srgb, var(--fg) 16%, transparent); border-radius: var(--radius); }
.post-card:hover { box-shadow: var(--shadow); transform: translateY(-2px); }
.post-card h3 { margin: 0 0 6px; }
.post-card .meta { font-size: 14px; color: var(--muted); }

.prose h1, .prose h2, .prose h3 { line-height: 1.2; }
.prose img { max-width: 100%; height: auto; border-radius: 12px; }
.prose pre { overflow: auto; padding: 12px; background: #111; border-radius: 12px; }

.site-footer { max-width: var(--max); margin: 3rem auto; padding: 0 20px 2rem; opacity: .9; }
.site-footer.small { margin-top: 2rem; font-size: 14px; }
@media (max-width: 640px) { .masonry { column-width: 240px; } }
